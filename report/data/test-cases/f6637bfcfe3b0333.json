{"uid":"f6637bfcfe3b0333","name":"test_login[getData0]","fullName":"testcase.test_login.TestLogin#test_login","historyId":"7d2cf2a0e4136eba74036c42b657c468","time":{"start":1681134166385,"stop":1681134166495,"duration":110},"status":"failed","statusMessage":"AssertionError","statusTrace":"self = <test_login.TestLogin object at 0x10e32f130>\ngetData = {'data': {'userName': 'admin', 'userPassword': 'dolphinscheduler123'}, 'headers': None, 'json': None, 'method': 'POST', ...}\n\n    @allure.story('login')\n    def test_login(self,getData):\n        #发送请求\n        result  = ru.doRequest(method=getData['method'],url=getData['url'],params=getData['params'],data=getData['data'],\n                     json=getData['json'],headers=getData['headers'],)\n    \n    \n>       ru.assertResult(result,getData['validate']['statusCode'],getData['validate']['errorCode'],getData['validate']['msg'])\n\n../testcase/test_login.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <util.requestUtil.RquestUtll object at 0x10e2d0340>\nresult = <Response [200]>, statusCode = '200', errorCode = '0', msg = '登陆成功'\n\n    def assertResult(self,result,statusCode,errorCode,msg):\n        with allure.step('发送请求'):\n            allure.attach(str(result.request.url), '请求路径')\n            allure.attach(str(result.request.method), '请求方式')\n            allure.attach(str(result.request.headers), '请求头')\n            allure.attach(str(result.request.body), '请求体')\n        with allure.step('获取响应'):\n            allure.attach(str(result.status_code),'响应状态码')\n            allure.attach(str(result.headers), '响应头')\n            allure.attach(str(result.text), '响应文本内容')\n    \n        with allure.step('断言'):\n            allure.attach(str('statusCode'),'预期响应状态码')\n            allure.attach(str('errorCode'), '预期响应错误码')\n            allure.attach(str('msg'), '预期返回到错误信息 ')\n>           assert result.status_code == statusCode\nE           AssertionError\n\n../util/requestUtil.py:55: AssertionError","flaky":false,"newFailed":false,"newBroken":false,"newPassed":false,"retriesCount":22,"retriesStatusChange":true,"beforeStages":[{"name":"getData","time":{"start":1681134166378,"stop":1681134166378,"duration":0},"status":"passed","steps":[],"attachments":[],"parameters":[],"hasContent":false,"stepsCount":0,"attachmentsCount":0,"shouldDisplayMessage":false}],"testStage":{"status":"failed","statusMessage":"AssertionError","statusTrace":"self = <test_login.TestLogin object at 0x10e32f130>\ngetData = {'data': {'userName': 'admin', 'userPassword': 'dolphinscheduler123'}, 'headers': None, 'json': None, 'method': 'POST', ...}\n\n    @allure.story('login')\n    def test_login(self,getData):\n        #发送请求\n        result  = ru.doRequest(method=getData['method'],url=getData['url'],params=getData['params'],data=getData['data'],\n                     json=getData['json'],headers=getData['headers'],)\n    \n    \n>       ru.assertResult(result,getData['validate']['statusCode'],getData['validate']['errorCode'],getData['validate']['msg'])\n\n../testcase/test_login.py:26: \n_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ \n\nself = <util.requestUtil.RquestUtll object at 0x10e2d0340>\nresult = <Response [200]>, statusCode = '200', errorCode = '0', msg = '登陆成功'\n\n    def assertResult(self,result,statusCode,errorCode,msg):\n        with allure.step('发送请求'):\n            allure.attach(str(result.request.url), '请求路径')\n            allure.attach(str(result.request.method), '请求方式')\n            allure.attach(str(result.request.headers), '请求头')\n            allure.attach(str(result.request.body), '请求体')\n        with allure.step('获取响应'):\n            allure.attach(str(result.status_code),'响应状态码')\n            allure.attach(str(result.headers), '响应头')\n            allure.attach(str(result.text), '响应文本内容')\n    \n        with allure.step('断言'):\n            allure.attach(str('statusCode'),'预期响应状态码')\n            allure.attach(str('errorCode'), '预期响应错误码')\n            allure.attach(str('msg'), '预期返回到错误信息 ')\n>           assert result.status_code == statusCode\nE           AssertionError\n\n../util/requestUtil.py:55: AssertionError","steps":[{"name":"发送请求","time":{"start":1681134166478,"stop":1681134166491,"duration":13},"status":"passed","steps":[],"attachments":[{"uid":"5f0233479a283c0f","name":"请求路径","source":"5f0233479a283c0f.attach","type":"text/plain","size":56},{"uid":"94da438e1ffa35cf","name":"请求方式","source":"94da438e1ffa35cf.attach","type":"text/plain","size":4},{"uid":"c7964ef259d2d2c9","name":"请求头","source":"c7964ef259d2d2c9.attach","type":"text/plain","size":198},{"uid":"867164022949983f","name":"请求体","source":"867164022949983f.attach","type":"text/plain","size":47}],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentsCount":4,"shouldDisplayMessage":false},{"name":"获取响应","time":{"start":1681134166491,"stop":1681134166492,"duration":1},"status":"passed","steps":[],"attachments":[{"uid":"c6401b512ed6adf1","name":"响应状态码","source":"c6401b512ed6adf1.attach","type":"text/plain","size":3},{"uid":"9bb5a71063620784","name":"响应头","source":"9bb5a71063620784.attach","type":"text/plain","size":432},{"uid":"9f6a30a6df8dfb9b","name":"响应文本内容","source":"9f6a30a6df8dfb9b.attach","type":"text/plain","size":154}],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":false},{"name":"断言","time":{"start":1681134166493,"stop":1681134166494,"duration":1},"status":"failed","statusMessage":"AssertionError\n","statusTrace":"  File \"/Users/aliang/PycharmProjects/pythonProject/ApiAutoTest/util/requestUtil.py\", line 55, in assertResult\n    assert result.status_code == statusCode\n","steps":[],"attachments":[{"uid":"1f1ce2c86d432e4e","name":"预期响应状态码","source":"1f1ce2c86d432e4e.attach","type":"text/plain","size":10},{"uid":"8ec57997ed55ade7","name":"预期响应错误码","source":"8ec57997ed55ade7.attach","type":"text/plain","size":9},{"uid":"491872849ec9242","name":"预期返回到错误信息 ","source":"491872849ec9242.attach","type":"text/plain","size":3}],"parameters":[],"hasContent":true,"stepsCount":0,"attachmentsCount":3,"shouldDisplayMessage":true}],"attachments":[],"parameters":[],"hasContent":true,"stepsCount":3,"attachmentsCount":10,"shouldDisplayMessage":true},"afterStages":[],"labels":[{"name":"feature","value":"登陆模块"},{"name":"story","value":"login"},{"name":"parentSuite","value":"testcase"},{"name":"suite","value":"test_login"},{"name":"subSuite","value":"TestLogin"},{"name":"host","value":"aliangdeMBP"},{"name":"thread","value":"13500-MainThread"},{"name":"framework","value":"pytest"},{"name":"language","value":"cpython3"},{"name":"package","value":"testcase.test_login"},{"name":"resultFormat","value":"allure2"}],"parameters":[{"name":"getData","value":"{'name': 'login', 'method': 'POST', 'url': 'http://www.xuxuclassmate.cn:12345/dolphinscheduler/login', 'headers': None, 'params': None, 'data': {'userName': 'admin', 'userPassword': 'dolphinscheduler123'}, 'json': None, 'validate': {'statusCode': '200', 'errorCode': '0', 'msg': '登陆成功'}}"}],"links":[],"hidden":false,"retry":false,"extra":{"severity":"normal","retries":[{"uid":"6b40993f70d46e5e","status":"failed","statusDetails":"AssertionError","time":{"start":1681134151463,"stop":1681134151572,"duration":109}},{"uid":"ae15d88781d2103e","status":"failed","statusDetails":"AssertionError","time":{"start":1681132758327,"stop":1681132758429,"duration":102}},{"uid":"abb7699e8d56f62","status":"failed","statusDetails":"AssertionError","time":{"start":1681132031362,"stop":1681132031469,"duration":107}},{"uid":"edeb3f2354f77573","status":"passed","time":{"start":1680705234976,"stop":1680705235062,"duration":86}},{"uid":"27e814f42acb00ff","status":"broken","statusDetails":"KeyError: 'vaildate'","time":{"start":1680273375608,"stop":1680273375745,"duration":137}},{"uid":"9ef0e65574806f60","status":"broken","statusDetails":"KeyError: 'vaildate'","time":{"start":1680273202103,"stop":1680273202213,"duration":110}},{"uid":"525688b8cbd85a27","status":"broken","statusDetails":"KeyError: 'vaildate'","time":{"start":1680270626448,"stop":1680270626552,"duration":104}},{"uid":"613de85f2e8fafe1","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'. Did you mean: 'text'?","time":{"start":1680270272289,"stop":1680270272391,"duration":102}},{"uid":"1f9a2c1332675765","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'. Did you mean: 'text'?","time":{"start":1680270146554,"stop":1680270146665,"duration":111}},{"uid":"eb37f136b5cf160f","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'","time":{"start":1680269821231,"stop":1680269821379,"duration":148}},{"uid":"cb7773cf7cc192f5","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'","time":{"start":1680269797945,"stop":1680269798058,"duration":113}},{"uid":"c07460756c4ec8c1","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'. Did you mean: 'text'?","time":{"start":1680269359928,"stop":1680269360033,"duration":105}},{"uid":"33fd21bff8038d72","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'. Did you mean: 'text'?","time":{"start":1680265088413,"stop":1680265088738,"duration":325}},{"uid":"7ea3c05756478ee9","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'. Did you mean: 'text'?","time":{"start":1680263945152,"stop":1680263945294,"duration":142}},{"uid":"c9642e8561ec358f","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'","time":{"start":1680262355688,"stop":1680262355895,"duration":207}},{"uid":"8f2e4434acd2986f","status":"broken","statusDetails":"AttributeError: 'Response' object has no attribute 'test'. Did you mean: 'text'?","time":{"start":1680262026899,"stop":1680262027020,"duration":121}},{"uid":"a904d343d489b8c","status":"broken","statusDetails":"KeyError: 'vaildate'","time":{"start":1680261465776,"stop":1680261465959,"duration":183}},{"uid":"4973017ff10e0920","status":"passed","time":{"start":1680261462026,"stop":1680261462041,"duration":15}},{"uid":"4213c869bc414348","status":"broken","statusDetails":"AttributeError: 'RquestUtll' object has no attribute '_dopost'. Did you mean: '_doPost'?","time":{"start":1680261374628,"stop":1680261374628,"duration":0}},{"uid":"ad0f823d55665aa9","status":"broken","statusDetails":"KeyError: 'vaildate'","time":{"start":1680260864522,"stop":1680260864620,"duration":98}},{"uid":"4666e1a13594f55e","status":"broken","statusDetails":"KeyError: 'vaildate'","time":{"start":1680260737486,"stop":1680260737618,"duration":132}},{"uid":"976c124628e80a3c","status":"broken","statusDetails":"KeyError: 'vaildate'","time":{"start":1680260214503,"stop":1680260214843,"duration":340}}],"categories":[{"name":"Product defects","matchedStatuses":[],"flaky":false}],"tags":[]},"source":"f6637bfcfe3b0333.json","parameterValues":["{'name': 'login', 'method': 'POST', 'url': 'http://www.xuxuclassmate.cn:12345/dolphinscheduler/login', 'headers': None, 'params': None, 'data': {'userName': 'admin', 'userPassword': 'dolphinscheduler123'}, 'json': None, 'validate': {'statusCode': '200', 'errorCode': '0', 'msg': '登陆成功'}}"]}